/*! franken-dev 2019-12-11 00:32:53 */
var _common=_common||{};_common.scroll=function(){function e(){a.is(":checked")?(n.css(r),o.css(r)):(n.css(i),o.css(i))}var t,n=$("#content"),o=$("#footer"),a=$("#sidebarMenu"),r={transform:"translateX(-25rem)"},i={transform:"translateX(0)"};a.change(e),e();var s=0,c=$(".header").outerHeight(),l=$("#sidebarMenu");$(window).scroll(function(e){t=!0}),setInterval(function(){t&&(function(){var e=$(this).scrollTop();if(Math.abs(s-e)<=5)return;s<e&&c<e&&!l.is(":checked")?$(".header").removeClass("header-stikcy"):e+$(window).height()<$(document).height()&&$(".header").addClass("header-stikcy");s=e}(),t=!1)},250),$("input#sidebarMenu").click(function(){!$(this).is(":checked")&&80<$(window).scrollTop()&&setTimeout(function(){$(".header").removeClass("header-stikcy")},200)})},_common.footer=function(){$footerContainer=$(".footer .container"),window.Waypoint?$footerContainer.waypoint({handler:function(){$footerContainer.css("opacity",1),this.destroy()},offset:"90%"}):$footerContainer.css("opacity",1)},_common.mail=function(){var o,e,a,r,i,s,c,t,n,l,f,u,m,d=(o=$("#g-form"),e=$(".textbox input[type='text'],.textbox textarea"),a=$("#form-name"),r=$("#form-email"),i=$("#form-message"),s=$("#form-loading"),c=$("#form-success"),t=$("#form-warn"),n=$("#form-warn-msg"),l=$("#form-error"),m=u=f=null,{init:function(){e.on("focus",function(){$(this).siblings("label").fadeOut("fast")}),e.on("focusout",function(){$(this).val()||$(this).siblings("label").fadeIn()}),c.click(function(){f&&clearTimeout(f),c.fadeOut()}),t.click(function(){u&&clearTimeout(u),t.fadeOut()}),l.click(function(){m&&clearTimeout(m),l.fadeOut()}),b()},reset:b,send:function(){if(o.hide(),s.show(),!function(){var e=a.val()||"";if(!e||!e.trim())return v("이름이 입력되어야 합니다.<br/>Please fill the name field."),0;if(e=e.trim(),/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(e)){if(!/^[가-힣]{2,5}$/.test(e))return v("한글 이름의 경우 최소 2자에서 최대 5자까지 입력가능하며,<br/>음절로 입력부탁드립니다. (가 - 힣)"),a.val(e.substr(0,5).replace(/[^(가-힣)]/g,"")).focus(),0}else{if(!/[a-zA-Z]/.test(e))return v("잘못된 이름입니다. 한글 또는 영어이름으로 입력해주세요.<br/>Please enter a Korean or English name."),a.val("").focus(),0;if(!/^[a-zA-Z][a-zA-Z\s\.]{1,28}[a-zA-Z]$/.test(e))return v("Invalid name. If name is English, it must be between 3 and 30 characters.<br/>And it can only contain letters of the alphabet, dots or spaces.<br/>E.g. 'Yoda', 'Han.Solo' or 'Darth Vader' ..."),a.val(e.substr(0,30).replace(/[^(a-zA-Z\s\.)]/g,"")).focus(),0}a.val(e);var t=r.val()||"";if(!t||!t.trim())return v("메일주소가 입력되어야 합니다.<br/>Please fill the email field."),r.val("").focus(),0;if(!/^[-_0-9a-zA-Z][-_\.0-9a-zA-Z]*[-_0-9a-zA-Z]@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i.test(t.trim()))return v("잘못된 이메일 형식입니다. 올바른 형식으로 입력해주세요.<br/>Invalid email. Please enter a valid email format."),r.focus(),0;r.val(t);var n=i.val()||"";return n&&n.trim()?(n=n.trim()).length<10|500<n.length?(v("메시지는 최소 10자에서 최대 500자까지 입력가능합니다.<br/>Invalid message. It must be between 10 and 500 characters."),i.val(n.substr(0,500)).focus(),0):(i.val(n),1):(v("메시지가 입력되어야 합니다.<br/>Please fill the message field."),i.val("").focus(),0)}())return!1;var e=h();if(e.honeypot)return b(),s.hide(),c.hide(),l.hide(),o.show(),!1;var t=e.data,n=window.atob("aHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbS9tYWNyb3Mvcy9BS2Z5Y2J3SkI5OVlITXpyWkxrYTBLWU0wNllKLTRyOW9uSmgxNHJ6bkJyX1FqRS1YV0VoeTFnL2V4ZWM=");return b(),setTimeout(function(){$.ajax({url:n,method:"POST",data:Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}).done(function(e){return s.hide(),c.show(),o.fadeIn(),f=setTimeout(function(){c.fadeOut("slow")},3e3),!1}).fail(function(e){return console.log(e),s.hide(),l.show(),o.fadeIn(),m=setTimeout(function(){l.fadeOut("slow")},3e3),!1})},1e3),!1}});function h(){var i=o[0].elements,e=function(t){return Object.keys(t).filter(function(e){return"honeypot"!==t[e].name||(honeypot=t[e].value,!1)}).map(function(e){return void 0!==t[e].name?t[e].name:0<t[e].length?t[e].item(0).name:void 0}).filter(function(e,t,n){return n.indexOf(e)==t&&e})}(i),s={};return e.forEach(function(e){var t=i[e];if(s[e]=t.value,t.length){for(var n=[],o=0,a=t.length;o<a;o++){var r=t.item(o);(r.checked||r.selected)&&(r.value+="",n.push(r.value.trim()))}s[e]=n.join(", ")}}),s.formDataNameOrder=JSON.stringify(e),s.formGoogleSheetName="mail-list",{data:s,honeypot:void 0}}function v(e){return s.hide(),n.html(e),t.show(),o.fadeIn(),u=setTimeout(function(){t.fadeOut("slow")},3e3),!1}function b(){return e.val("").siblings("label").fadeIn(),!1}$("button.reset-btn").click(d.reset),$("button.send-btn").click(d.send),d.init()},_common.init=function(){this.scroll(),this.footer(),this.mail()};